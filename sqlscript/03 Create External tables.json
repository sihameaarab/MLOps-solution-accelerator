{
	"name": "03 Create External tables",
	"properties": {
		"folder": {
			"name": "Polybase script"
		},
		"content": {
			"query": "\nCREATE SCHEMA [asb];\nGO\n\n\n-- Now let's create the external tables. All we are doing here is defining column names and data types, \n-- and binding them to the location and format of the Azure blob storage files. The location is the folder \n-- under the root directory of the Azure Storage Blob.\n\n--DimAccount\nCREATE EXTERNAL TABLE [asb].DimAccount \n(\n\t[AccountKey] [int] NOT NULL,\n\t[ParentAccountKey] [int] NULL,\n\t[AccountLabel] [nvarchar](100) NULL,\n\t[AccountName] [nvarchar](50) NULL,\n\t[AccountDescription] [nvarchar](50) NULL,\n\t[AccountType] [nvarchar](50) NULL,\n\t[Operator] [nvarchar](50) NULL,\n\t[CustomMembers] [nvarchar](300) NULL,\n\t[ValueType] [nvarchar](50) NULL,\n\t[CustomMemberOptions] [nvarchar](200) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH \n(\n    LOCATION='/DimAccount/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimChannel\nCREATE EXTERNAL TABLE [asb].DimChannel \n(\n\t[ChannelKey] [int] NOT NULL,\n\t[ChannelLabel] [nvarchar](100) NOT NULL,\n\t[ChannelName] [nvarchar](20) NULL,\n\t[ChannelDescription] [nvarchar](50) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimChannel/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimCurrency\nCREATE EXTERNAL TABLE [asb].DimCurrency \n(\n\t[CurrencyKey] [int] NOT NULL,\n\t[CurrencyLabel] [nvarchar](10) NOT NULL,\n\t[CurrencyName] [nvarchar](20) NOT NULL,\n\t[CurrencyDescription] [nvarchar](50) NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimCurrency/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n--DimCustomer\nCREATE EXTERNAL TABLE [asb].DimCustomer \n(\n\t[CustomerKey] [int]  NOT NULL,\n\t[GeographyKey] [int] NOT NULL,\n\t[CustomerLabel] [nvarchar](100) NOT NULL,\n\t[Title] [nvarchar](8) NULL,\n\t[FirstName] [nvarchar](50) NULL,\n\t[MiddleName] [nvarchar](50) NULL,\n\t[LastName] [nvarchar](50) NULL,\n\t[NameStyle] [bit] NULL,\n\t[BirthDate] [datetime] NULL,\n\t[MaritalStatus] [nchar](1) NULL,\n\t[Suffix] [nvarchar](10) NULL,\n\t[Gender] [nvarchar](1) NULL,\n\t[EmailAddress] [nvarchar](50) NULL,\n\t[YearlyIncome] [money] NULL,\n\t[TotalChildren] [tinyint] NULL,\n\t[NumberChildrenAtHome] [tinyint] NULL,\n\t[Education] [nvarchar](40) NULL,\n\t[Occupation] [nvarchar](100) NULL,\n\t[HouseOwnerFlag] [nchar](1) NULL,\n\t[NumberCarsOwned] [tinyint] NULL,\n\t[AddressLine1] [nvarchar](120) NULL,\n\t[AddressLine2] [nvarchar](120) NULL,\n\t[Phone] [nvarchar](20) NULL,\n\t[DateFirstPurchase] [datetime] NULL,\n\t[CustomerType] [nvarchar](15) NULL,\n\t[CompanyName] [nvarchar](100) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimCustomer/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n--DimDate\nCREATE EXTERNAL TABLE [asb].DimDate\n(\n\t[Datekey] [datetime] NOT NULL,\n\t[FullDateLabel] [nvarchar](20) NOT NULL,\n\t[DateDescription] [nvarchar](20) NOT NULL,\n\t[CalendarYear] [int] NOT NULL,\n\t[CalendarYearLabel] [nvarchar](20) NOT NULL,\n\t[CalendarHalfYear] [int] NOT NULL,\n\t[CalendarHalfYearLabel] [nvarchar](20) NOT NULL,\n\t[CalendarQuarter] [int] NOT NULL,\n\t[CalendarQuarterLabel] [nvarchar](20) NULL,\n\t[CalendarMonth] [int] NOT NULL,\n\t[CalendarMonthLabel] [nvarchar](20) NOT NULL,\n\t[CalendarWeek] [int] NOT NULL,\n\t[CalendarWeekLabel] [nvarchar](20) NOT NULL,\n\t[CalendarDayOfWeek] [int] NOT NULL,\n\t[CalendarDayOfWeekLabel] [nvarchar](10) NOT NULL,\n\t[FiscalYear] [int] NOT NULL,\n\t[FiscalYearLabel] [nvarchar](20) NOT NULL,\n\t[FiscalHalfYear] [int] NOT NULL,\n\t[FiscalHalfYearLabel] [nvarchar](20) NOT NULL,\n\t[FiscalQuarter] [int] NOT NULL,\n\t[FiscalQuarterLabel] [nvarchar](20) NOT NULL,\n\t[FiscalMonth] [int] NOT NULL,\n\t[FiscalMonthLabel] [nvarchar](20) NOT NULL,\n\t[IsWorkDay] [nvarchar](20) NOT NULL,\n\t[IsHoliday] [int] NOT NULL,\n\t[HolidayName] [nvarchar](20) NOT NULL,\n\t[EuropeSeason] [nvarchar](50) NULL,\n\t[NorthAmericaSeason] [nvarchar](50) NULL,\n\t[AsiaSeason] [nvarchar](50) NULL\n)\nWITH\n(\n    LOCATION='/DimDate/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimEmployee\nCREATE EXTERNAL TABLE [asb].DimEmployee \n(\n\t[EmployeeKey] [int]  NOT NULL,\n\t[ParentEmployeeKey] [int] NULL,\n\t[FirstName] [nvarchar](50) NOT NULL,\n\t[LastName] [nvarchar](50) NOT NULL,\n\t[MiddleName] [nvarchar](50) NULL,\n\t[Title] [nvarchar](50) NULL,\n\t[HireDate] [datetime] NULL,\n\t[BirthDate] [datetime] NULL,\n\t[EmailAddress] [nvarchar](50) NULL,\n\t[Phone] [nvarchar](25) NULL,\n\t[MaritalStatus] [nchar](1) NULL,\n\t[EmergencyContactName] [nvarchar](50) NULL,\n\t[EmergencyContactPhone] [nvarchar](25) NULL,\n\t[SalariedFlag] [bit] NULL,\n\t[Gender] [nchar](1) NULL,\n\t[PayFrequency] [tinyint] NULL,\n\t[BaseRate] [money] NULL,\n\t[VacationHours] [smallint] NULL,\n\t[CurrentFlag] [bit] NOT NULL,\n\t[SalesPersonFlag] [bit] NOT NULL,\n\t[DepartmentName] [nvarchar](50) NULL,\n\t[StartDate] [datetime] NULL,\n\t[EndDate] [datetime] NULL,\n\t[Status] [nvarchar](50) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimEmployee/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimEntity\nCREATE EXTERNAL TABLE [asb].DimEntity \n(\n\t[EntityKey] [int] NOT NULL,\n\t[EntityLabel] [nvarchar](100) NULL,\n\t[ParentEntityKey] [int] NULL,\n\t[ParentEntityLabel] [nvarchar](100) NULL,\n\t[EntityName] [nvarchar](50) NULL,\n\t[EntityDescription] [nvarchar](100) NULL,\n\t[EntityType] [nvarchar](100) NULL,\n\t[StartDate] [datetime] NULL,\n\t[EndDate] [datetime] NULL,\n\t[Status] [nvarchar](50) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimEntity/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimGeography\nCREATE EXTERNAL TABLE [asb].DimGeography \n(\n\t[GeographyKey] [int] NOT NULL,\n\t[GeographyType] [nvarchar](50) NOT NULL,\n\t[ContinentName] [nvarchar](50) NOT NULL,\n\t[CityName] [nvarchar](100) NULL,\n\t[StateProvinceName] [nvarchar](100) NULL,\n\t[RegionCountryName] [nvarchar](100) NULL,\n--\t[Geometry] [geometry] NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimGeography/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimMachine\nCREATE EXTERNAL TABLE [asb].DimMachine \n(\n\t[MachineKey] [int] NOT NULL,\n\t[MachineLabel] [nvarchar](100) NULL,\n\t[StoreKey] [int] NOT NULL,\n\t[MachineType] [nvarchar](50) NOT NULL,\n\t[MachineName] [nvarchar](100) NOT NULL,\n\t[MachineDescription] [nvarchar](200) NOT NULL,\n\t[VendorName] [nvarchar](50) NOT NULL,\n\t[MachineOS] [nvarchar](50) NOT NULL,\n\t[MachineSource] [nvarchar](100) NOT NULL,\n\t[MachineHardware] [nvarchar](100) NULL,\n\t[MachineSoftware] [nvarchar](100) NOT NULL,\n\t[Status] [nvarchar](50) NOT NULL,\n\t[ServiceStartDate] [datetime] NOT NULL,\n\t[DecommissionDate] [datetime] NULL,\n\t[LastModifiedDate] [datetime] NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimMachine/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimOutage\nCREATE EXTERNAL TABLE [asb].DimOutage (\n\t[OutageKey] [int]  NOT NULL,\n\t[OutageLabel] [nvarchar](100) NOT NULL,\n\t[OutageName] [nvarchar](50) NOT NULL,\n\t[OutageDescription] [nvarchar](200) NOT NULL,\n\t[OutageType] [nvarchar](50) NOT NULL,\n\t[OutageTypeDescription] [nvarchar](200) NOT NULL,\n\t[OutageSubType] [nvarchar](50) NOT NULL,\n\t[OutageSubTypeDescription] [nvarchar](200) NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimOutage/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimProduct\nCREATE EXTERNAL TABLE [asb].DimProduct (\n\t[ProductKey] [int] NOT NULL,\n\t[ProductLabel] [nvarchar](255) NULL,\n\t[ProductName] [nvarchar](500) NULL,\n\t[ProductDescription] [nvarchar](400) NULL,\n\t[ProductSubcategoryKey] [int] NULL,\n\t[Manufacturer] [nvarchar](50) NULL,\n\t[BrandName] [nvarchar](50) NULL,\n\t[ClassID] [nvarchar](10) NULL,\n\t[ClassName] [nvarchar](20) NULL,\n\t[StyleID] [nvarchar](10) NULL,\n\t[StyleName] [nvarchar](20) NULL,\n\t[ColorID] [nvarchar](10) NULL,\n\t[ColorName] [nvarchar](20) NOT NULL,\n\t[Size] [nvarchar](50) NULL,\n\t[SizeRange] [nvarchar](50) NULL,\n\t[SizeUnitMeasureID] [nvarchar](20) NULL,\n\t[Weight] [float] NULL,\n\t[WeightUnitMeasureID] [nvarchar](20) NULL,\n\t[UnitOfMeasureID] [nvarchar](10) NULL,\n\t[UnitOfMeasureName] [nvarchar](40) NULL,\n\t[StockTypeID] [nvarchar](10) NULL,\n\t[StockTypeName] [nvarchar](40) NULL,\n\t[UnitCost] [money] NULL,\n\t[UnitPrice] [money] NULL,\n\t[AvailableForSaleDate] [datetime] NULL,\n\t[StopSaleDate] [datetime] NULL,\n\t[Status] [nvarchar](7) NULL,\n\t[ImageURL] [nvarchar](150) NULL,\n\t[ProductURL] [nvarchar](150) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimProduct/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimProductCategory\nCREATE EXTERNAL TABLE [asb].DimProductCategory (\n\t[ProductCategoryKey] [int]  NOT NULL,\n\t[ProductCategoryLabel] [nvarchar](100) NULL,\n\t[ProductCategoryName] [nvarchar](30) NOT NULL,\n\t[ProductCategoryDescription] [nvarchar](50) NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimProductCategory/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimProductSubcategory\nCREATE EXTERNAL TABLE [asb].DimProductSubcategory (\n\t[ProductSubcategoryKey] [int]  NOT NULL,\n\t[ProductSubcategoryLabel] [nvarchar](100) NULL,\n\t[ProductSubcategoryName] [nvarchar](50) NOT NULL,\n\t[ProductSubcategoryDescription] [nvarchar](100) NULL,\n\t[ProductCategoryKey] [int] NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimProductSubcategory/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimPromotion\nCREATE EXTERNAL TABLE [asb].DimPromotion (\n\t[PromotionKey] [int]  NOT NULL,\n\t[PromotionLabel] [nvarchar](100) NULL,\n\t[PromotionName] [nvarchar](100) NULL,\n\t[PromotionDescription] [nvarchar](255) NULL,\n\t[DiscountPercent] [float] NULL,\n\t[PromotionType] [nvarchar](50) NULL,\n\t[PromotionCategory] [nvarchar](50) NULL,\n\t[StartDate] [datetime] NOT NULL,\n\t[EndDate] [datetime] NULL,\n\t[MinQuantity] [int] NULL,\n\t[MaxQuantity] [int] NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimPromotion/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n \n--DimSalesTerritory\nCREATE EXTERNAL TABLE [asb].DimSalesTerritory (\n\t[SalesTerritoryKey] [int]  NOT NULL,\n\t[GeographyKey] [int] NOT NULL,\n\t[SalesTerritoryLabel] [nvarchar](100) NULL,\n\t[SalesTerritoryName] [nvarchar](50) NOT NULL,\n\t[SalesTerritoryRegion] [nvarchar](50) NOT NULL,\n\t[SalesTerritoryCountry] [nvarchar](50) NOT NULL,\n\t[SalesTerritoryGroup] [nvarchar](50) NULL,\n\t[SalesTerritoryLevel] [nvarchar](10) NULL,\n\t[SalesTerritoryManager] [int] NULL,\n\t[StartDate] [datetime] NULL,\n\t[EndDate] [datetime] NULL,\n\t[Status] [nvarchar](50) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimSalesTerritory/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--DimScenario\nCREATE EXTERNAL TABLE [asb].DimScenario (\n\t[ScenarioKey] [int] NOT NULL,\n\t[ScenarioLabel] [nvarchar](100) NOT NULL,\n\t[ScenarioName] [nvarchar](20) NULL,\n\t[ScenarioDescription] [nvarchar](50) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimScenario/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n--DimStore\nCREATE EXTERNAL TABLE [asb].DimStore \n(\n\t[StoreKey] [int] NOT NULL,\n\t[GeographyKey] [int] NOT NULL,\n\t[StoreManager] [int] NULL,\n\t[StoreType] [nvarchar](15) NULL,\n\t[StoreName] [nvarchar](100) NOT NULL,\n\t[StoreDescription] [nvarchar](300) NOT NULL,\n\t[Status] [nvarchar](20) NOT NULL,\n\t[OpenDate] [datetime] NOT NULL,\n\t[CloseDate] [datetime] NULL,\n\t[EntityKey] [int] NULL,\n\t[ZipCode] [nvarchar](20) NULL,\n\t[ZipCodeExtension] [nvarchar](10) NULL,\n\t[StorePhone] [nvarchar](15) NULL,\n\t[StoreFax] [nvarchar](14) NULL,\n\t[AddressLine1] [nvarchar](100) NULL,\n\t[AddressLine2] [nvarchar](100) NULL,\n\t[CloseReason] [nvarchar](20) NULL,\n\t[EmployeeCount] [int] NULL,\n\t[SellingAreaSize] [float] NULL,\n\t[LastRemodelDate] [datetime] NULL,\n\t[GeoLocation]\tNVARCHAR(50)  NULL,\n\t[Geometry]\t\tNVARCHAR(50) NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/DimStore/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n--FactExchangeRate\nCREATE EXTERNAL TABLE [asb].FactExchangeRate \n(\n\t[ExchangeRateKey] [int]  NOT NULL,\n\t[CurrencyKey] [int] NOT NULL,\n\t[DateKey] [datetime] NOT NULL,\n\t[AverageRate] [float] NOT NULL,\n\t[EndOfDayRate] [float] NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactExchangeRate/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--FactInventory\nCREATE EXTERNAL TABLE [asb].FactInventory (\n\t[InventoryKey] [int]  NOT NULL,\n\t[DateKey] [datetime] NOT NULL,\n\t[StoreKey] [int] NOT NULL,\n\t[ProductKey] [int] NOT NULL,\n\t[CurrencyKey] [int] NOT NULL,\n\t[OnHandQuantity] [int] NOT NULL,\n\t[OnOrderQuantity] [int] NOT NULL,\n\t[SafetyStockQuantity] [int] NULL,\n\t[UnitCost] [money] NOT NULL,\n\t[DaysInStock] [int] NULL,\n\t[MinDayInStock] [int] NULL,\n\t[MaxDayInStock] [int] NULL,\n\t[Aging] [int] NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactInventory/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n--FactITMachine\nCREATE EXTERNAL TABLE [asb].FactITMachine (\n\t[ITMachinekey] [int] NOT NULL,\n\t[MachineKey] [int] NOT NULL,\n\t[Datekey] [datetime] NOT NULL,\n\t[CostAmount] [money] NULL,\n\t[CostType] [nvarchar](200) NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactITMachine/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n\n--FactITSLA\nCREATE EXTERNAL TABLE [asb].FactITSLA \n(\n\t[ITSLAkey] [int]  NOT NULL,\n\t[DateKey] [datetime] NOT NULL,\n\t[StoreKey] [int] NOT NULL,\n\t[MachineKey] [int] NOT NULL,\n\t[OutageKey] [int] NOT NULL,\n\t[OutageStartTime] [datetime] NOT NULL,\n\t[OutageEndTime] [datetime] NOT NULL,\n\t[DownTime] [int] NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactITSLA/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n--FactOnlineSales\nCREATE EXTERNAL TABLE [asb].FactOnlineSales \n(\n\t[OnlineSalesKey] [int]  NOT NULL,\n\t[DateKey] [datetime] NOT NULL,\n\t[StoreKey] [int] NOT NULL,\n\t[ProductKey] [int] NOT NULL,\n\t[PromotionKey] [int] NOT NULL,\n\t[CurrencyKey] [int] NOT NULL,\n\t[CustomerKey] [int] NOT NULL,\n\t[SalesOrderNumber] [nvarchar](20) NOT NULL,\n\t[SalesOrderLineNumber] [int] NULL,\n\t[SalesQuantity] [int] NOT NULL,\n\t[SalesAmount] [money] NOT NULL,\n\t[ReturnQuantity] [int] NOT NULL,\n\t[ReturnAmount] [money] NULL,\n\t[DiscountQuantity] [int] NULL,\n\t[DiscountAmount] [money] NULL,\n\t[TotalCost] [money] NOT NULL,\n\t[UnitCost] [money] NULL,\n\t[UnitPrice] [money] NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactOnlineSales/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--FactSales\nCREATE EXTERNAL TABLE [asb].FactSales \n(\n\t[SalesKey] [int]  NOT NULL,\n\t[DateKey] [datetime] NOT NULL,\n\t[channelKey] [int] NOT NULL,\n\t[StoreKey] [int] NOT NULL,\n\t[ProductKey] [int] NOT NULL,\n\t[PromotionKey] [int] NOT NULL,\n\t[CurrencyKey] [int] NOT NULL,\n\t[UnitCost] [money] NOT NULL,\n\t[UnitPrice] [money] NOT NULL,\n\t[SalesQuantity] [int] NOT NULL,\n\t[ReturnQuantity] [int] NOT NULL,\n\t[ReturnAmount] [money] NULL,\n\t[DiscountQuantity] [int] NULL,\n\t[DiscountAmount] [money] NULL,\n\t[TotalCost] [money] NOT NULL,\n\t[SalesAmount] [money] NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactSales/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n\n--FactSalesQuota\nCREATE EXTERNAL TABLE [asb].FactSalesQuota (\n\t[SalesQuotaKey] [int]  NOT NULL,\n\t[ChannelKey] [int] NOT NULL,\n\t[StoreKey] [int] NOT NULL,\n\t[ProductKey] [int] NOT NULL,\n\t[DateKey] [datetime] NOT NULL,\n\t[CurrencyKey] [int] NOT NULL,\n\t[ScenarioKey] [int] NOT NULL,\n\t[SalesQuantityQuota] [money] NOT NULL,\n\t[SalesAmountQuota] [money] NOT NULL,\n\t[GrossMarginQuota] [money] NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactSalesQuota/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n \n--FactStrategyPlan\nCREATE EXTERNAL TABLE [asb].FactStrategyPlan \n(\n\t[StrategyPlanKey] [int]  NOT NULL,\n\t[Datekey] [datetime] NOT NULL,\n\t[EntityKey] [int] NOT NULL,\n\t[ScenarioKey] [int] NOT NULL,\n\t[AccountKey] [int] NOT NULL,\n\t[CurrencyKey] [int] NOT NULL,\n\t[ProductCategoryKey] [int] NULL,\n\t[Amount] [money] NOT NULL,\n\t[ETLLoadID] [int] NULL,\n\t[LoadDate] [datetime] NULL,\n\t[UpdateDate] [datetime] NULL\n)\nWITH\n(\n    LOCATION='/FactStrategyPlan/' \n,   DATA_SOURCE = AzureStorage_west_public\n,   FILE_FORMAT = TextFileFormat\n,   REJECT_TYPE = VALUE\n,   REJECT_VALUE = 0\n)\n;\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "mysqlpool1",
				"poolName": "mysqlpool1"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}